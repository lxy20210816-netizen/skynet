# 不动产数据导出工具

## 📝 说明

这个脚本从Google Sheets中读取"房地产池"的数据，并以美化、精简的Markdown格式输出到指定目录。

## 🚀 使用方法

### 基本用法

```bash
# 激活虚拟环境
cd ~/Desktop/workspace/skynet
source venv/bin/activate

# 运行导出脚本
python3 scripts/export_real_estate.py
```

### 输出目录

数据将导出到：`~/Desktop/workspace/brain/不动产池子`

## 📂 输出结构

```
不动产池子/
├── README.md                 # 总览文件（包含统计信息和价格分析）
├── data.json                 # 原始数据JSON备份
├── 亀戸/
│   ├── README.md            # 亀戸地区总览
│   ├── 公寓.md              # 公寓详情
│   └── 一户建.md            # 一户建详情
├── 錦糸町/
│   ├── README.md
│   ├── 公寓.md
│   └── 一户建.md
├── 高島平/
│   ├── README.md
│   ├── 公寓.md
│   └── 一户建.md
├── 曳舟/
│   ├── README.md
│   ├── 公寓.md
│   └── 一户建.md
└── 秋葉原/
    ├── README.md
    ├── 公寓.md
    └── 一户建.md
```

## 📊 功能特点

### 1. 总览统计
- 总房源数量
- 地区分布统计
- 价格分析（平均、最低、最高）
- 面积分析（平均、最小、最大）

### 2. 地区详情
- 每个地区独立目录
- 按类型分类（公寓、一户建）
- 完整的房源详情

### 3. 房源信息
每个房源包含：
- 💰 价格（万円）
- 📊 单价（万円/m²）
- 📏 面积（m²）
- 🏠 户型
- 📅 建造年份
- ⏳ 房龄
- 📍 地址
- 🚇 交通信息
- 🔗 详情链接

### 4. 智能排序
- 房源按价格从低到高排序
- 便于快速找到心仪价位

### 5. 数据备份
- 自动生成JSON格式备份文件
- 方便其他程序读取使用

## 🔧 配置

脚本配置位于 `scripts/export_real_estate.py` 开头：

```python
# Google Sheets配置
CREDENTIALS_FILE = 'config/credentials.json'  # 凭证文件
SHEET_ID = '1b55-D54NLbBo1yJd-OjDy7rqCBEkK8Dza3vDLZCPaiU'  # 表格ID
WORKSHEET_NAME = '房地产池'  # 工作表名称

# 输出目录
OUTPUT_DIR = os.path.expanduser('~/Desktop/workspace/brain/不动产池子')
```

## 📋 示例输出

### 总览（README.md）
```markdown
# 🏘️ 不动产池子总览

📅 更新时间：2025年10月12日 01:43

---

📊 **总房源数量**: 250 个

## 📍 地区分布

- **亀戸**: 50 个房源
  - 一户建: 20 个
  - 公寓: 30 个
...

## 💰 价格分析

- 平均价格: **4503万円**
- 最低价格: 980万円
- 最高价格: 9480万円

## 📏 面积分析

- 平均面积: **57.13m²**
- 最小面积: 24.99m²
- 最大面积: 183.10m²
```

### 房源详情示例
```markdown
## 1. 駅まで平坦、２階建

### 駅まで平坦、２階建

| 项目 | 信息 |
|------|------|
| 💰 价格 | **1,280万円** |
| 📊 单价 | 27.42 万円/m² |
| 📏 面积 | 46.68m² |
| 🏠 户型 | 4DK |
| 📅 建造年份 | 1957年 |
| ⏳ 房龄 | 68年 |
| 📍 地址 | 東京都江東区大島５ |
| 🔗 详情 | [查看详情](https://suumo.jp/...) |
```

## 🎯 使用场景

1. **快速浏览**：通过总览查看整体市场情况
2. **地区对比**：对比不同地区的房源价格和数量
3. **详细查看**：深入查看某个地区的具体房源
4. **数据分析**：使用JSON备份进行进一步的数据分析

## 🔄 更新数据

每次运行脚本都会：
1. 从Google Sheets读取最新数据
2. 覆盖旧的Markdown文件
3. 更新统计信息和时间戳

建议在Google Sheets数据更新后运行此脚本。

## ⚙️ 依赖

- Python 3.9+
- gspread
- google-auth
- 有效的Google API凭证文件

## 💡 提示

- Markdown文件可以用任何文本编辑器或Markdown阅读器打开
- 推荐使用Typora、MacDown或VS Code查看
- 可以直接在GitHub上预览（如果上传到仓库）

