# Skynet é¡¹ç›®æ¦‚è§ˆ

## ğŸ¯ é¡¹ç›®ç›®æ ‡

Skynetæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ•°æ®é‡‡é›†å’Œåˆ†æç³»ç»Ÿï¼Œä¸»è¦ç”¨äºï¼š

1. **é‡‘èå¸‚åœºç›‘æ§** - è¿½è¸ªè‚¡ç¥¨æŒ‡æ•°å’Œå¸‚åœºæŒ‡æ ‡
2. **æˆ¿åœ°äº§ä¿¡æ¯æ”¶é›†** - é‡‡é›†æ—¥æœ¬æˆ¿åœ°äº§å¸‚åœºæ•°æ®
3. **æ•°æ®å­˜å‚¨å’Œåˆ†æ** - ç»“æ„åŒ–å­˜å‚¨å¹¶æ”¯æŒå¯¼å‡ºåˆ†æ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®é‡‡é›†å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚GuruFocus â”‚  â”‚Yahoo Fi. â”‚  â”‚  Suumo.jp   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚              â”‚
         â–¼             â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Pythonè„šæœ¬å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚nasdaq_pe â”‚  â”‚stock_idx â”‚  â”‚suumo_scraperâ”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚             â”‚              â”‚
         â–¼             â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å­˜å‚¨å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  MySQL Database  â”‚  â”‚  JSON/CSV Files  â”‚            â”‚
â”‚  â”‚    finances      â”‚  â”‚     output/      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Google Sheets      â”‚
                        â”‚   (å¯é€‰å¯¼å‡º)          â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š æ•°æ®æµè¯´æ˜

### é‡‘èæ•°æ®æµ

1. **é‡‡é›†** â†’ `nasdaq_pe.py` / `stock_indices.py`
2. **è§£æ** â†’ æå–PEæ¯”ç‡ã€æ”¶ç›˜ä»·ç­‰æ•°æ®
3. **å­˜å‚¨** â†’ MySQL `finances.stock_indices` è¡¨
4. **è¾“å‡º** â†’ JSONæ ¼å¼ï¼ˆå¯å¯¹æ¥n8nç­‰å·¥å…·ï¼‰

### æˆ¿åœ°äº§æ•°æ®æµ

1. **é‡‡é›†** â†’ `suumo_scraper.py` çˆ¬å–Suumoç½‘ç«™
2. **è§£æ** â†’ æå–ä»·æ ¼ã€é¢ç§¯ã€æˆ·å‹ç­‰30+å­—æ®µ
3. **å¯¼å‡º** â†’ `export_to_csv.py` è½¬æ¢ä¸ºCSV
4. **ä¸Šä¼ ** â†’ `upload_to_gsheets.py` ä¸Šä¼ åˆ°Google Sheets

## ğŸ—‚ï¸ ç›®å½•è¯´æ˜

### /scripts - æ ¸å¿ƒè„šæœ¬
æ‰€æœ‰æ•°æ®é‡‡é›†å’Œå¤„ç†è„šæœ¬ï¼Œæ¯ä¸ªè„šæœ¬ç‹¬ç«‹è¿è¡Œã€‚

### /Documents - æ–‡æ¡£ä¸­å¿ƒ
- `SETUP.md` - ç¯å¢ƒé…ç½®è¯¦ç»†æŒ‡å—
- `SCRIPTS.md` - è„šæœ¬ä½¿ç”¨æ‰‹å†Œ
- `db_config.md` - æ•°æ®åº“è¡¨ç»“æ„
- `mail_config.md` - é‚®ä»¶é…ç½®ï¼ˆn8nç”¨ï¼‰
- `rss.md` - RSSé…ç½®ï¼ˆn8nç”¨ï¼‰

### /output - è¾“å‡ºç»“æœ
å­˜æ”¾æ‰€æœ‰è¾“å‡ºçš„JSONã€CSVæ–‡ä»¶ï¼ˆè¢«gitå¿½ç•¥ï¼‰ã€‚

### /data - ä¸´æ—¶æ•°æ®
å­˜æ”¾ä¸´æ—¶æ•°æ®æ–‡ä»¶ï¼ˆè¢«gitå¿½ç•¥ï¼‰ã€‚

### /venv - è™šæ‹Ÿç¯å¢ƒ
Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆè¢«gitå¿½ç•¥ï¼‰ã€‚

## ğŸ’¾ æ•°æ®åº“è®¾è®¡

### stock_indices è¡¨

å­˜å‚¨è‚¡ç¥¨æŒ‡æ•°çš„æ¯æ—¥æ•°æ®ï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| id | INT | ä¸»é”® |
| date | DATE | äº¤æ˜“æ—¥æœŸï¼ˆå”¯ä¸€ï¼‰ |
| nasdaq | DECIMAL | çº³æ–¯è¾¾å…‹ç»¼åˆæŒ‡æ•° |
| nasdaq_100 | DECIMAL | çº³æ–¯è¾¾å…‹100æŒ‡æ•° |
| nasdaq_100_pe | DECIMAL | çº³æ–¯è¾¾å…‹100 PEæ¯”ç‡ |
| n225 | DECIMAL | æ—¥ç»225æŒ‡æ•° |
| vix | DECIMAL | VIXææ…ŒæŒ‡æ•° |
| a | DECIMAL | é¢„ç•™å­—æ®µ |

**ç‰¹ç‚¹ï¼š**
- æŒ‰æ—¥æœŸå»é‡ï¼ˆUNIQUE KEYï¼‰
- å¦‚æœæ—¥æœŸå·²å­˜åœ¨åˆ™æ›´æ–°æ•°æ®
- æ”¯æŒéƒ¨åˆ†å­—æ®µæ›´æ–°

## ğŸ”„ å·¥ä½œæµç¨‹

### æ—¥å¸¸æ•°æ®æ›´æ–°æµç¨‹

**æ¯å¤©æ—©ä¸Šæ‰§è¡Œï¼š**

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. é‡‡é›†è‚¡ç¥¨æŒ‡æ•°æ•°æ®
python3 scripts/stock_indices.py

# 3. é‡‡é›†PEæ¯”ç‡
python3 scripts/nasdaq_pe.py

# 4. æŸ¥çœ‹æ•°æ®åº“
./scripts/mysql_login.sh
# SELECT * FROM stock_indices ORDER BY date DESC LIMIT 5;
```

### æˆ¿æºæ•°æ®é‡‡é›†æµç¨‹

**æŒ‰éœ€æ‰§è¡Œï¼ˆæ¯å‘¨æˆ–æ¯æœˆï¼‰ï¼š**

```bash
# 1. é‡‡é›†Suumoæˆ¿æº
python3 scripts/suumo_scraper.py > output/suumo_$(date +%Y%m%d).json 2>&1

# 2. è½¬æ¢ä¸ºCSV
python3 scripts/export_to_csv.py

# 3. å¯¼å…¥Google Sheets
# æ‰‹åŠ¨ä¸Šä¼  output/kinshicho_sale.csv
# æˆ–è¿è¡Œè‡ªåŠ¨ä¸Šä¼ è„šæœ¬ï¼ˆéœ€é…ç½®credentials.jsonï¼‰
python3 scripts/upload_to_gsheets.py
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: è‚¡ç¥¨æŠ•èµ„å‚è€ƒ

é€šè¿‡æ¯æ—¥é‡‡é›†è‚¡ç¥¨æŒ‡æ•°å’ŒPEæ¯”ç‡æ•°æ®ï¼Œå¯ä»¥ï¼š
- è¿½è¸ªå¸‚åœºè¶‹åŠ¿
- åˆ†æä¼°å€¼æ°´å¹³
- åˆ¶å®šæŠ•èµ„ç­–ç•¥

### åœºæ™¯2: æˆ¿äº§æŠ•èµ„åˆ†æ

é€šè¿‡é‡‡é›†æˆ¿æºä¿¡æ¯ï¼Œå¯ä»¥ï¼š
- äº†è§£åŒºåŸŸæˆ¿ä»·æ°´å¹³
- å¯¹æ¯”ä¸åŒæˆ¿æºçš„æ€§ä»·æ¯”
- å‘ç°æŠ•èµ„æœºä¼š

### åœºæ™¯3: n8nè‡ªåŠ¨åŒ–

æ‰€æœ‰è„šæœ¬è¾“å‡ºJSONæ ¼å¼ï¼Œå¯ä»¥ï¼š
- åœ¨n8nä¸­åˆ›å»ºè‡ªåŠ¨åŒ–å·¥ä½œæµ
- å®šæ—¶é‡‡é›†æ•°æ®
- å‘é€é‚®ä»¶é€šçŸ¥
- è§¦å‘è­¦æŠ¥

## ğŸ› ï¸ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æ•°æ®æº

1. åœ¨ `scripts/` ç›®å½•åˆ›å»ºæ–°è„šæœ¬
2. å‚è€ƒç°æœ‰è„šæœ¬çš„ç»“æ„
3. è¾“å‡ºJSONæ ¼å¼ï¼ŒåŒ…å« `success` å’Œ `data` å­—æ®µ
4. æ›´æ–°æ–‡æ¡£

### æ·»åŠ æ–°çš„æ•°æ®åº“è¡¨

1. åœ¨MySQLä¸­åˆ›å»ºè¡¨
2. æ›´æ–° `Documents/db_config.md`
3. ä¿®æ”¹è„šæœ¬æ·»åŠ å†™å…¥é€»è¾‘

## ğŸ“ˆ æœªæ¥è§„åˆ’

- [ ] æ·»åŠ æ›´å¤šè‚¡ç¥¨æŒ‡æ•°ï¼ˆS&P500ã€ä¸Šè¯æŒ‡æ•°ç­‰ï¼‰
- [ ] æ”¯æŒæ›´å¤šæˆ¿åœ°äº§ç½‘ç«™ï¼ˆYahooä¸åŠ¨äº§ã€at-homeç­‰ï¼‰
- [ ] å®ç°æ•°æ®å¯è§†åŒ–Dashboard
- [ ] æ·»åŠ ä»·æ ¼é¢„è­¦åŠŸèƒ½
- [ ] é›†æˆæœºå™¨å­¦ä¹ é¢„æµ‹æ¨¡å‹

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯**
   - æ•°æ®åº“å¯†ç 
   - APIå¯†é’¥
   - credentials.json

2. **å®šæœŸå¤‡ä»½æ•°æ®åº“**
   ```bash
   mysqldump -u root -p finances > backup_$(date +%Y%m%d).sql
   ```

3. **åˆç†ä½¿ç”¨çˆ¬è™«**
   - éµå®ˆç½‘ç«™robots.txt
   - è®¾ç½®åˆç†çš„æŠ“å–é—´éš”
   - ä¸è¦è¿‡åº¦è¯·æ±‚

## ğŸ“š å‚è€ƒèµ„æº

- [Seleniumæ–‡æ¡£](https://selenium-python.readthedocs.io/)
- [yfinanceæ–‡æ¡£](https://pypi.org/project/yfinance/)
- [n8næ–‡æ¡£](https://docs.n8n.io/)
- [MySQLæ–‡æ¡£](https://dev.mysql.com/doc/)

